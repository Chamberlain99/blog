<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vueBase | 程序员成长-修炼中心 「作者：陈楚城」</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/vue-press-blog-system/favicon.ico">
    <meta name="description" content="个人博客-学习总结">
    
    <link rel="preload" href="/vue-press-blog-system/assets/css/0.styles.5f920e4a.css" as="style"><link rel="preload" href="/vue-press-blog-system/assets/js/app.c526b0a5.js" as="script"><link rel="preload" href="/vue-press-blog-system/assets/js/2.98bc5c3d.js" as="script"><link rel="preload" href="/vue-press-blog-system/assets/js/3.92175d34.js" as="script"><link rel="prefetch" href="/vue-press-blog-system/assets/js/10.79980224.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/100.e090bac8.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/101.fe37097d.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/102.043c8899.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/103.4c76e0ed.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/104.9b99a439.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/105.8d88fbac.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/11.2c0268ee.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/12.4e73c358.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/13.1ad0beaf.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/14.7819f65b.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/15.7ed2daa9.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/16.83ee73a5.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/17.63632de3.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/18.6bbc764e.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/19.4b30a841.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/20.daef06a1.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/21.cc52eac4.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/22.e59bf66c.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/23.0098a010.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/24.1fb1ffcb.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/25.41f95247.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/26.053d7198.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/27.1696862a.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/28.f091eeb3.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/29.8fb2afa7.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/30.9fdf7960.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/31.803f2dcd.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/32.80ac03f3.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/33.ab695433.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/34.cfb9fde3.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/35.698cc9c8.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/36.8dd86ebb.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/37.4d1ec2af.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/38.4e6f9e42.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/39.b1ef3f36.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/4.a8fd43dd.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/40.ef6a7721.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/41.28500ddb.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/42.2fe2adbd.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/43.4550d5f9.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/44.796208f2.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/45.6dc5c8fa.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/46.b6bd920c.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/47.ebd0319a.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/48.cbc872e6.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/49.9b6fc0ec.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/5.7f680ddb.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/50.e3f341d9.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/51.1cc3e5ad.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/52.7c0efa38.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/53.6d57e19a.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/54.e8d16396.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/55.0b753e41.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/56.4f00c9cd.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/57.22952778.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/58.80ab9736.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/59.0dea2caa.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/6.415147fb.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/60.a55b277d.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/61.3081f2cb.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/62.786e0183.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/63.54ca805d.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/64.163e5c05.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/65.46add134.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/66.08413136.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/67.70c6ee5f.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/68.e1334b91.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/69.b22e81bf.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/7.993de096.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/70.198cb9f8.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/71.7e2e3305.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/72.282db2a4.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/73.53060b18.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/74.b4dd57fa.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/75.37dcc996.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/76.40bd81a2.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/77.d67dcbe7.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/78.ff419f7b.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/79.f4118317.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/8.9399dfdf.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/80.9219c0a9.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/81.688b3e78.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/82.47d8c104.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/83.bf1257c4.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/84.64113750.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/85.7f3bb004.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/86.9227180a.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/87.581e1afb.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/88.e4332311.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/89.78302f33.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/9.a2d08829.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/90.96dae56a.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/91.39b19ca7.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/92.ecb3a077.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/93.e320820e.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/94.399d53c0.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/95.444fecd0.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/96.8e271e3b.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/97.fe146385.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/98.045215da.js"><link rel="prefetch" href="/vue-press-blog-system/assets/js/99.09d2b918.js">
    <link rel="stylesheet" href="/vue-press-blog-system/assets/css/0.styles.5f920e4a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-press-blog-system/" class="home-link router-link-active"><!----> <span class="site-name">程序员成长-修炼中心 「作者：陈楚城」</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-press-blog-system/note/" class="nav-link">博客文章</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github &amp; 掘金" class="dropdown-title"><!----> <span class="title" style="display:;">Github &amp; 掘金</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chamberlain99" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1855631360537159/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://evel-font-end.github.io/vue-baselib/dist/#/mapcharts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/vue-press-blog-system/contact/" class="nav-link">关于我</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/vue-press-blog-system/note/" class="nav-link">博客文章</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github &amp; 掘金" class="dropdown-title"><!----> <span class="title" style="display:;">Github &amp; 掘金</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chamberlain99" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1855631360537159/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://evel-font-end.github.io/vue-baselib/dist/#/mapcharts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/vue-press-blog-system/contact/" class="nav-link">关于我</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vue-press-blog-system/" aria-current="page" class="sidebar-link">写在前面</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>vue3学习总结</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-press-blog-system/pages/e7d837/" class="sidebar-link">vue3</a></li><li><a href="/vue-press-blog-system/pages/13698b/" class="sidebar-link">vueAll</a></li><li><a href="/vue-press-blog-system/pages/9af714/" aria-current="page" class="active sidebar-link">vueBase</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#为什么要学习-vue-3" class="sidebar-link">为什么要学习 vue 3</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#vue3-动机-和-新特性" class="sidebar-link">Vue3 动机 和 新特性</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#vite介绍" class="sidebar-link">vite介绍</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#为什么选-vite" class="sidebar-link">为什么选 Vite ？</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#vite-的基本使用" class="sidebar-link">Vite 的基本使用</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#vscode-插件说明" class="sidebar-link">vscode 插件说明</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#vue3-0项目介绍" class="sidebar-link">Vue3.0项目介绍</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#composition-api-vs-options-api" class="sidebar-link">composition API vs options API</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#体验-composition-api" class="sidebar-link">体验 composition API</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#setup-函数" class="sidebar-link">setup 函数</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#reactive-函数" class="sidebar-link">reactive 函数</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#ref-函数" class="sidebar-link">ref 函数</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#script-setup-语法-★" class="sidebar-link">script setup 语法(★)</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#案例-显示鼠标案例" class="sidebar-link">案例：显示鼠标案例</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#钩子函数的使用" class="sidebar-link">钩子函数的使用</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#计算属性computed函数" class="sidebar-link">计算属性computed函数</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#侦听器watch函数" class="sidebar-link">侦听器watch函数</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#组件通讯-父传子" class="sidebar-link">组件通讯-父传子</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#组件通讯-子传父" class="sidebar-link">组件通讯-子传父</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#组件通讯-依赖注入-provide-和-inject" class="sidebar-link">组件通讯-依赖注入 - provide 和 inject</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#模板中-ref-的使用" class="sidebar-link">模板中 ref 的使用</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#vue3-中废弃了过滤器" class="sidebar-link">vue3 中废弃了过滤器</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#补充-torefs-函数" class="sidebar-link">补充 - toRefs 函数</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#基本架子搭建" class="sidebar-link">基本架子搭建</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#列表展示功能" class="sidebar-link">列表展示功能</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#修改任务状态功能" class="sidebar-link">修改任务状态功能</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#删除功能" class="sidebar-link">删除功能</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#添加功能" class="sidebar-link">添加功能</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#底部功能-计算属性" class="sidebar-link">底部功能 (计算属性)</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#全选反选功能" class="sidebar-link">全选反选功能</a></li><li class="sidebar-sub-header"><a href="/vue-press-blog-system/pages/9af714/#watch-监视存到本地" class="sidebar-link">watch 监视存到本地</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>你不知道的css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见问题总结记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发工具篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常用工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>自动化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>QA相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>文章收藏</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-3c4b8ee7><div class="articleInfo" data-v-3c4b8ee7><ul class="breadcrumbs" data-v-3c4b8ee7><li data-v-3c4b8ee7><a href="/vue-press-blog-system/" title="首页" class="iconfont icon-home router-link-active" data-v-3c4b8ee7></a></li> <li data-v-3c4b8ee7><a href="/vue-press-blog-system/categories/?category=note" title="分类" data-v-3c4b8ee7>note</a></li><li data-v-3c4b8ee7><a href="/vue-press-blog-system/categories/?category=sourceCode" title="分类" data-v-3c4b8ee7>sourceCode</a></li></ul> <div class="info" data-v-3c4b8ee7><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-3c4b8ee7><a href="javascript:;" data-v-3c4b8ee7>2022-03-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">vueBase<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="vue-3-介绍"><a href="#vue-3-介绍" class="header-anchor">#</a> Vue 3 介绍</h1> <h2 id="为什么要学习-vue-3"><a href="#为什么要学习-vue-3" class="header-anchor">#</a> 为什么要学习 vue 3</h2> <p><img src="data:image/png;base64,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" alt="image-20220212222422186"></p> <p>为什么要学vue3,理由如下:</p> <ol><li>Vue 是国内最火的前端框架</li> <li>Vue 3 于 2022 年 2 月 7 日星期一成为新的默认版本！
<ul><li>原文链接：https://blog.vuejs.org/posts/vue-3-as-the-new-default.html</li> <li>中文链接：https://zhuanlan.zhihu.com/p/460055155</li></ul></li> <li>Vue3 性能更高，体积更小</li> <li>Vue3 在经过一年的迭代后，越来越好用</li></ol> <p>官方文档：</p> <ul><li>vue3官方文档：https://vuejs.org/</li> <li>vue3中文文档：https://v3.cn.vuejs.org/</li></ul> <p>目前已支持 vue3 的UI组件库:</p> <ul><li><p><strong>element-plus</strong>   (PC组件库)</p> <p>https://element-plus.gitee.io/#/zh-CN</p> <p>Element Plus，一套为开发者、设计师和产品经理准备的基于 Vue 3.0 的桌面端组件库。</p></li> <li><p><strong>vant</strong> (移动端组件库)</p> <p>https://vant-contrib.gitee.io/vant/v3/#/zh-CN</p> <p>轻量、可靠的移动端 Vue 组件库。</p> <p>Vant 是有赞前端团队开源的移动端组件库，于 2016 年开源，已持续维护 4 年时间。</p> <p>目前 Vant 已完成了对 Vue 3.0 的适配工作，并发布了 Vant 3.0 版本</p></li></ul> <ul><li><p><strong>ant-design-vue</strong>  (PC组件库)</p> <p>https://antdv.com/docs/vue/introduce-cn/</p> <p>ant-design-vue 是 Ant Design 的 Vue 实现，组件的风格与 Ant Design 保持同步</p></li></ul> <h2 id="vue3-动机-和-新特性"><a href="#vue3-动机-和-新特性" class="header-anchor">#</a> Vue3 动机 和 新特性</h2> <p>Vue3 设计理念  https://vue3js.cn/vue-composition/</p> <p>动机与目的:</p> <ol><li><p>更好的逻辑复用 与  代码组织  (composition组合式api)</p> <p>optionsAPI(旧) =&gt; compositionAPI（新）,   效果: 代码组织更方便了, 逻辑复用更方便了   非常利于维护!!</p></li> <li><p>更好的类型推导 (typescript支持)</p> <p>vue3 源码用 ts 重写了, vue3 对 ts 的支持更友好了  (ts  可以让代码更加稳定, 类型检测! )</p></li></ol> <p>vue3新特性：</p> <ol><li><p>数据响应式原理重新实现  (ES6 proxy 替代了 ES5 的 Object.defineProperty)</p> <p>解决了: 例如数组的更新检测等bug, 大大优化了响应式监听的性能</p> <p>(原来检测对象属性的变化, 需要一个个对属性递归监听)  <strong>proxy 可以直接对整个对象劫持</strong></p></li> <li><p>虚拟DOM - 新算法 (更快 更小)</p></li> <li><p><strong>提供了composition api, 可以更好的逻辑复用</strong></p></li> <li><p>模板可以有多个根元素</p></li> <li><p>源码用 typescript 重写, 有更好的类型推导 (类型检测更为严格, 更稳定)</p> <p>...</p></li></ol> <p><strong>小结： vue3 性能更高, 体积更小,  更利于复用, 代码维护更方便</strong></p> <h1 id="vite-的使用"><a href="#vite-的使用" class="header-anchor">#</a> Vite 的使用</h1> <p><img src="/vue-press-blog-system/assets/img/image-20220212223742250.4271d7e9.png" alt="image-20220212223742250"></p> <h2 id="vite介绍"><a href="#vite介绍" class="header-anchor">#</a> vite介绍</h2> <blockquote><p>Vite 官方文档：https://cn.vitejs.dev/</p></blockquote> <p>Vite（法语意为 &quot;快速的&quot;，发音 <code>/vit/</code>，发音同 &quot;veet&quot;)是一种新型前端构建工具</p> <p><strong>优势</strong></p> <ul><li>💡 极速的服务启动，使用原生 ESM 文件，无需打包</li> <li>⚡️ 轻量快速的热重载，始终极快的模块热重载（HMR）</li> <li>🛠️丰富的功能，对 TypeScript、JSX、CSS 等支持开箱即用</li> <li>📦等等</li></ul> <h2 id="为什么选-vite"><a href="#为什么选-vite" class="header-anchor">#</a> 为什么选 Vite ？</h2> <p><strong>传统方式</strong></p> <ul><li>基于打包器的方式启动，必须优先抓取并构建你的整个应用，然后才能提供服务。</li> <li>更新速度会随着应用体积增长而直线下降。</li></ul> <p><img src="/vue-press-blog-system/assets/img/image-20220212224001104.a4750565.png" alt="image-20220212224001104"></p> <p><strong>vite 方式</strong></p> <ul><li>Vite 以 <a href="https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FGuide%2FModules" target="_blank" rel="noopener noreferrer">原生 ESM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方式提供源码。这实际上是让浏览器接管了打包程序的部分工作。</li> <li>Vite 只需要在浏览器请求源码时进行转换并按需提供源码。</li> <li>根据情景动态导入代码，即只在当前屏幕上实际使用时才会被处理。</li></ul> <p><img src="/vue-press-blog-system/assets/img/image-20220212224054798.adc51828.png" alt="image-20220212224054798"></p> <p>问题小结:</p> <ul><li>Vite 是否需要先打包才能提供服务？</li> <li>使用webpack能否创建vue3的项目？</li></ul> <p>温馨提示：</p> <ul><li>webpack 的入口是一个 js 文件，先根据入口 js 文件，构建打包项目，在运行服务器。</li> <li>Vite 的入口文件是一个 html 文件，先直接启动服务器运行 html 文件，在通过 http 请求加载源码。</li></ul> <h2 id="vite-的基本使用"><a href="#vite-的基本使用" class="header-anchor">#</a> Vite 的基本使用</h2> <blockquote><p>目标：能够使用vite创建一个vue3的项目</p></blockquote> <p>（1）使用vite创建项目</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> create vite
<span class="token comment"># or</span>
<span class="token function">yarn</span> create vite
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>（2）输入项目名字，默认为vite-project</p> <p><img src="data:image/png;base64,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" alt="image-20220212224535365"></p> <p>（3）选择创建的项目类型，选择vue即可</p> <p><img src="data:image/png;base64,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" alt="image-20220212224709912"></p> <p>（4）选择创建的vue项目类型，  选 vue-ts</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdgAAAA2CAYAAABk4IjfAAAFZElEQVR4nO3dvW0VQRDA8TWiAzdAF8gVkLsICrBEgESI5MASBThBNOCIHhAdOHRAQuACHJkAHVrfm9nZ2a/bO/4/CeF3H3N7H755s7d+7+z+/v756ekpvPv6K/z+/i0AAIB6r7ZuAAAAR/Ramnhxdf3i9Y8vH11BH3/enkw7f/veHcO7Dv5ajj/Hz+fD5Zt/P9/cPajTcEzxuY5x3vdlOY8znLeTBHtxdX2SUKVpGikxSgk3tT6whZu7h/Dh8s2LX0xpGmQz3dhKaOea8z/G3q8fyXRdxOdv3w+pvI6cyEccwx7Hb11BaBUF5nSkG2Ot2a/dGdvX6vq5uXswY43afzHBrruIa9FV+f95/HnrTsJLBQEAR3DSRVzTPRzC32RqPT9d33hLns9a68fLxPPj6aXPKrXY3vVy2piaLi2X0zYrfm7bejzrjbvpZu2eld4ExG1cz/e2X3vuu57ufW21L+6i035uvR/S9j3TpPi1rPOXmh/PWx836ThKx9l6nTq3llT7cvbPu404hrX/UozUdSO10TouOfvf0lnqz3S8yTWm3Xy1Z7Q503KXtV6n4ltyYtesn9v2EF4m1dLjJ72OY3vjt7BOqp4kWztQxXoGVzvfu30tXghB3WZqfqp9qW3Hy0i829Km9T6+ltr2W23KWdY6f/G81LZSatrnjes9vyGkr+2ca81q86g37uIo4hZSN/+epO213L5WzY2OHy/n2b+c+DN06Zf+AmxR7bbcpvcdu7Z9a74W07oB1txoS9qQE2e2Ho4WUudvb/vrbe+RBhl2S7ALqcu4NjFtPUBJ60rNER+PVJVZGj9H7/gteG6wI0lVnNXF5qV1BY5Us11r3ZrYOce/ldQbDshGnp89SCbYku7hnIq1tkLassLqXZHvPX6t2RKqxOpCq2n/TPtfWj1Yb45yKtLU87GeXcQ5Zjk/s9r6/MxE/TOdi6vr5qOJNS0rWqkqs+KXbr90vZyBYDXxc7WKL8UpGUVc8+x1lJLqpbTi2aJSatkll1uBe/Yzpzpuedxy9qFm/gzVcMs2eGNJy68HIvW+B6y31/J4qIOcluTa41OcUqOAa9eXlrFG05aOIo6TectPqtLilxyb1DKp+DmjklP7vudPk8odJSrNt9b3bD81crS0bTnt8z4DleKu25tqZ+5gG2ldLXbJTdlq73ogjrSsFC91fVgJXDtuUltqrjOtfd643t8P6RrXejCs9TSe81Nz/UiSo4gBYAsz9l4AXt0HOQFArtYVBLAlEiyAaZBYcSTTfRYxAABHQIIFAKCDkwQ76k9zAAA4spME++PLR5IsAACVxC5ikiwAAHXUZ7AkWQAAypmfRVzzlXVe1vedal+lpk2L1wUAYCRzFPHISnZJhNb/0jqL5SMI43+zfmMMAOC4zAQ7soIFAOAokl3EWyTXnO9LtVCxAgC2pibYPVeuPHMFAGxN7CLeOrl6qtecapWKFgAw2kkFu3VytWiji+PBTYwiBgBsje+DBQCgg6m+rq53Vy6VLABglKkSLAkQAHAUfF0dAAAdkGABAOiABAsAQAckWAAAOiDBKp7PP2/dBADAjpFgAQDoYKo/04mrxrPHT+rrs8dPJ+tI0+J1S9ogxZbie7cBADi+qRLskkSXZKW9ltZZxMtL07Su33gbWpxUfAAAYlMl2BF6VJpUrwCAtekSbFy1alWkpWdFqVXRAADEpkuwLfROeKkuaAAAQph0FLGnes2pVmsrWmngEwAAKburYLXRxUtCbtWFq41aDqFulDIA4P/A98ECANDBlF3EAADsHQkWAIAOSLAAAHRAggUAoAMSLAAAHZBgAQDogAQLAEAHJFgAADr4A7bluYsFRtSZAAAAAElFTkSuQmCC" alt="image-20220212224735340"></p> <p>（5）启动项目</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAABeCAYAAABb9TqmAAADyUlEQVR4nO3dy3HUMBwH4A1DBymGAwXQCV3QSC4MPdBEjrlQARcOqQFOzhhFkmXv3y/5+2YYNvuQ5Y1/a6+ix8PLy8vfL99/3/78/HED7vNh7wpATwQKAgkUBBIoCPRxuPH6/PTuwcdPXzetzD2G+o/rPN6nM+0L5/V2hhoOuMdPX9/+5UJ2VEP9cyESJrZSveQ7W6hgb919h7rCh8Dr81P3+3hWH6ef8r/0F5leaqUHdHq5VXr9VubUP73dWm7uPah9xytts2W7HMusQL0+P2UDMv7OlT5n/HPt9ZGGurRsa3zf+P/SAV7b5lBeus+lcnLbqb1/6bY4nvBLvrP+skvBWRL48fPveS3nM/uS715nuPY/Qx05ps0DtdUn8L2NE6XLRqipXvJtcUCND/q9W6+2DtHSfd37faLsYRi+8evb53cP5g6sqVayOfel22htUcsptYzlvuSXtp8+f064Wnua1FoD09fV9qlUPvt6MB4K4nT3h13Yk0BBIIGCQAIFgQQKAgkUBBIoCCRQEEigIJBAQSCBgkACBYEECgIJFAQSKAgkUBBIoCCQQEEggYJAAgWBuguUKbbY066B6v3g733/eG/XQK0xr9ywcEHNVge5efOup7tLPtjTKnObz1kfammZrTPVlsoozb567/pVU/vXMvNuas7Mt+wrPFBL1odqkc47npuHfOrgnJpieWr9qCXlpiGeWl8rV9Zwe6v1tVguNFC9Lw7W076wjs2Xs7nH+FN6rU/mtRsstPr17VSB2sLaZyFnub6FtvLllmepfSIv+bSOPjvNbUSILPve8jmeVZazaW3lm7PKelpGy9pVtXK3aOXL7V/r+lotK8QvqR/rsj4UBPKHXQgkUBBIoCCQQEEggYJAAgWBBAoCCRQECuvL1zo+qdSLYmq8U6m3gJ4CHEloT4mW8USlsVLj+263/BijXHch44E4klU7x5YGAA6P1crJ3c79DEey+XeoYSYgwaBH4eOhaj3IBYne7dbKZxwQPVotULkz0XD2yjU0jCeFzE0QOX6sdh/safMh8KUGh6lLwVJA4UjCZz263RzoXFdooASJq9P1CAIJFAQSKAh06UBZv4lolw6URhSiXTpQEO1y46Ei1m8yJouSS42Hmlu/JfXn2oyHgkCb9+WrTXx/BFNBX3t9Ks7NeKjE0evHsV16PNSS9ZucnahZbX2olnWZpi7/aq2Apfta6jZ+Tev6TWkZAkXO5oGCnhkPBYGMh4JAuh5BIIGCQAIFgQQKAgkUBBIoCCRQEEigIJBAQSCBgkACBYH+AUHH6ZSDKq4zAAAAAElFTkSuQmCC" alt="image-20220212224801574"></p> <p><strong>vite快捷使用</strong></p> <p>如果想要快速创建一个vue3项目，可以使用如下命令</p> <ul><li>创建普通vue项目</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> create vite vite-demo --template vue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>创建基于ts模板的项目</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> create vite vite-demo-ts --template vue-ts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="vscode-插件说明"><a href="#vscode-插件说明" class="header-anchor">#</a> vscode 插件说明</h2> <ul><li>vue2中需要安装插件<code>Vetur</code>，可以实现组件高亮。但是vue3的一些语法在vetur中报错。</li> <li>vue3中需要安装插件<code>Volar</code>，提供了更加强大的功能，插件和 <code>Vetur</code> 会出现冲突。</li> <li>所以，使用功能vue3，需要禁用 <code>vetur</code>插件，安装<code>Volar</code>插件。</li> <li><code>Volar</code> 共需要安装两个插件，第二个提供 <code>Volar TypeScript</code> 支持。</li></ul> <p><img src="/vue-press-blog-system/assets/img/image-20220212230447148.6d2dc2b0.png" alt="image-20220215073425369"></p> <blockquote><p>🚨 注意</p> <ul><li>Vue3 开发需要禁用 Vetur 插件。</li></ul></blockquote> <h2 id="vue3-0项目介绍"><a href="#vue3-0项目介绍" class="header-anchor">#</a> Vue3.0项目介绍</h2> <blockquote><p>任务目标：掌握 vue3 的项目目录结构</p></blockquote> <ul><li><p>精简 src 下的文件和代码</p></li> <li><p>创建 App.vue</p></li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我是App组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>创建 main.ts 文件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="组合式api"><a href="#组合式api" class="header-anchor">#</a> 组合式API</h1> <h2 id="composition-api-vs-options-api"><a href="#composition-api-vs-options-api" class="header-anchor">#</a> composition API vs options API</h2> <ol><li><p>vue2 采用的就是 <code>optionsAPI</code></p> <p>(1) 优点:<strong><code>易于学习和使用</code></strong>, 每个代码有着明确的位置 (例如: 数据放 data 中, 方法放 methods中)</p> <p>(2) 缺点:  相似的逻辑, 不容易复用, 在大项目中尤为明显</p> <p>(3) 虽然 optionsAPI 可以通过mixins 提取相同的逻辑, 但是也并不是特别好维护</p></li> <li><p>vue3 新增的就是 <code>compositionAPI</code></p> <p>(1) compositionAPI 是基于  <strong>逻辑功能</strong>  组织代码的, 一个功能 api 相关放到一起</p> <p>(2) 即使项目大了, 功能多了, 也能快速定位功能相关的 api</p> <p>(3) 大大的提升了 <code>代码可读性</code> 和 <code>可维护性</code></p></li> <li><p>vue3 推荐使用 composition API, 也保留了options API</p> <p>即就算不用 composition API, 用 vue2 的写法也完全兼容!!</p></li></ol> <p>问题小结:</p> <p><code>optionsAPI</code>的优缺点是什么?</p> <p>vue3 新增的 <code>compositionAPI</code> 有什么特征?  有什么优势?</p> <h2 id="体验-composition-api"><a href="#体验-composition-api" class="header-anchor">#</a> 体验 composition API</h2> <p><strong>需求: 鼠标移动显示鼠标坐标 x, y</strong></p> <p><img src="data:image/png;base64,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" alt="image-20220212232734773"></p> <p>options API 版本</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前鼠标位置</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">x: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>x <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">y: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>y <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前点击次数：</span><span class="token punctuation">{</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;button @click=&quot;add&quot;&gt;点击</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { defineComponent } from 'vue'

export default defineComponent({
  // vue2 中采用的是 options API
  // 常见的配置项: data created methods watch computed components
  data() {
    return {
      mouse: {
        x: 0,
        y: 0,
      },
      count: 0,
    }
  },
  mounted() {
    document.addEventListener('mousemove', this.move)
  },
  // 🚨注意：Vue3 把 destroyed 重命名为 unmounted
  unmounted() {
    document.removeEventListener('mousemove', this.move)
  },
  methods: {
    move(e: MouseEvent) {
      this.mouse.x = e.pageX
      this.mouse.y = e.pageY
    },
    add() {
      this.count++
    },
  },
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>composition API 版本</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>当前鼠标位置<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>x: {{ mouse.x }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>y: {{ mouse.y }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>当前点击次数：{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> onUnmounted<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> mouse <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mouse<span class="token punctuation">.</span>x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX
      mouse<span class="token punctuation">.</span>y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY
    <span class="token punctuation">}</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">,</span>
      add<span class="token punctuation">,</span>
      mouse<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>抽离逻辑</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前鼠标位置</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">x: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>x <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">y: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>y <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前点击次数：</span><span class="token punctuation">{</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;button @click=&quot;add&quot;&gt;点击</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;div @mousemove=&quot;&quot;&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
function useMouse() {
  const mouse = reactive({
    x: 0,
    y: 0,
  })
  const move = (e: MouseEvent) =&gt; {
    mouse.x = e.pageX
    mouse.y = e.pageY
  }
  onMounted(() =&gt; {
    document.addEventListener('mousemove', move)
  })
  onUnmounted(() =&gt; {
    document.removeEventListener('mousemove', move)
  })
  return mouse
}

function useCount() {
  const count = ref(0)
  const add = () =&gt; {
    count.value++
  }
  return {
    count,
    add,
  }
}
import { defineComponent, onMounted, onUnmounted, reactive, ref } from 'vue'

export default defineComponent({
  setup() {
    const mouse = useMouse()
    const { count, add } = useCount()
    return { count, add, mouse }
  },
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p>问题小结:<code>optionsAPI</code>的优缺点是什么?  vue3 新增的 <code>compositionAPI</code> 有什么特征?  有什么优势?</p> <p>optionsAPI:</p> <ul><li>优点:<strong><code>易于学习和使用</code></strong>, 每个代码有着明确的位置</li> <li>缺点:  相似的逻辑, 不容易复用</li></ul> <p>compositionAPI:</p> <ul><li>基于  <strong>逻辑功能</strong>  组织代码</li> <li>可维护性好!</li></ul> <h2 id="setup-函数"><a href="#setup-函数" class="header-anchor">#</a> setup 函数</h2> <p>composition api的使用, 需要配置一个setup 函数</p> <ol><li>setup 函数是一个新的组件选项, 作为组件中 compositionAPI 的起点</li> <li>从生命周期角度来看, setup 会在 beforeCreate 钩子函数之前执行</li> <li><strong>setup 中不能使用 this, this 指向 undefined</strong></li> <li>在模版中需要使用的数据和函数，需要在 <code>setup</code> 返回。</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;h1 @click=&quot;say()&quot;&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> msg <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { defineComponent } from 'vue'

export default defineComponent({
  setup() {
    console.log('setup执行了')
    console.log(this)
    // 定义数据和函数
    const msg = 'hi vue3'
    const say = () =&gt; {
      console.log(msg)
    }

    return { msg, say }
  },
  beforeCreate() {
    console.log('beforeCreate执行了')
    console.log(this)
  },
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="reactive-函数"><a href="#reactive-函数" class="header-anchor">#</a> reactive 函数</h2> <p><strong>前置说明:</strong></p> <ol><li>setup 需要有返回值, 只有返回的值才能在模板中使用</li> <li>默认普通的数据, 不是响应式的</li></ol> <p><strong>作用: 传入一个复杂数据类型，将复杂类型数据, 转换成响应式数据 （返回该对象的响应式代理Proxy）</strong></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>obj.name = <span class="token punctuation">'</span>ls<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>改值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. setup 需要返回值, 返回的值才能在模板中使用</span>
    <span class="token comment">// 2. 默认的普通的值不是响应式的, 需要用 reactive 函数</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> obj <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>总结：</strong> 通常是用来定义响应式 <strong>对象数据</strong></p> <p>问题小结:</p> <ol><li>默认 setup 函数中返回的 普通对象 是响应式的么 ?</li> <li>reactive 函数的作用是什么 ?</li></ol> <h2 id="ref-函数"><a href="#ref-函数" class="header-anchor">#</a> ref 函数</h2> <p>reactive 处理的数据, 必须是复杂类型,  如果是简单类型无法处理成响应式, 所以有 ref 函数!</p> <p>作用: 对传入的数据（一般简单数据类型），包裹一层对象,  转换成响应式。</p> <ol><li>ref 函数接收一个的值, 返回一个ref 响应式对象,  有唯一的属性 value</li> <li>在 setup 函数中, 通过 ref 对象的 value 属性, 可以访问到值</li> <li>在模板中, ref 属性会自动解套, 不需要额外的 .value</li> <li>ref函数也支持传入复杂类型，传入复杂类型，也会做响应式处理</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>改值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    money<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> money <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ref 和 reactive 的最佳使用方式：</p> <ul><li><strong>明确的对象，明确的属性，用 reactive，其他用 ref</strong></li> <li>从vue3.2之后，官方更推荐使用 ref</li></ul> <p>问题小结:</p> <ul><li><p>ref 函数的作用是什么 ?</p> <ul><li>定义响应式数据。</li></ul></li> <li><p>ref 函数包裹简单类型后,  会包裹成对象, 在模板中需要 .value 么?  在 setup 中需要 .value 么?</p> <ul><li>在模板中需要 .value 么?          不需要，模板中会自动解套</li> <li>在 setup 中需要 .value 么?       需要，.value</li></ul></li></ul> <h2 id="script-setup-语法-★"><a href="#script-setup-语法-★" class="header-anchor">#</a> script setup 语法(★)</h2> <blockquote><p>script setup是在单文件组件 (SFC) 中使用组合式 API 的编译时语法糖。相比于普通的 script 语法更加简洁</p></blockquote> <p>要使用这个语法，需要将 <code>setup</code> 添加到 <code>&lt;script&gt;</code> 代码块上：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello script setup'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>    <span class="token comment">// undefined</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>顶层的绑定会自动暴露给模板，所以定义的变量，函数和import导入的内容都可以直接在模板中直接使用</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>根组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>点击次数：{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击修改<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">.</span>value<span class="token operator">++</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>script setup 优势：</p> <ol><li>使用 <code>ts</code> 项目不需要再 <code>defineComponent</code> 包裹了。</li> <li>无需再 <code>return</code> 了， <code>template</code> 可直接使用，顶层的绑定会自动暴露给模板。</li></ol> <h2 id="案例-显示鼠标案例"><a href="#案例-显示鼠标案例" class="header-anchor">#</a> 案例：显示鼠标案例</h2> <blockquote><p>使用setup语法完成鼠标案例</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前鼠标位置</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">x: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>x <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">y: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>y <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前点击次数：</span><span class="token punctuation">{</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;button @click=&quot;add&quot;&gt;点击</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { onMounted, onUnmounted, reactive, ref } from 'vue'
const count = ref(0)
const add = () =&gt; {
  count.value++
}
const mouse = reactive({
  x: 0,
  y: 0,
})
const move = (e: MouseEvent) =&gt; {
  mouse.x = e.pageX
  mouse.y = e.pageY
}
onMounted(() =&gt; {
  document.addEventListener('mousemove', move)
})
onUnmounted(() =&gt; {
  document.removeEventListener('mousemove', move)
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="钩子函数的使用"><a href="#钩子函数的使用" class="header-anchor">#</a> 钩子函数的使用</h2> <p><a href="https://vue3js.cn/docs/zh/api/composition-api.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90" target="_blank" rel="noopener noreferrer">生命周期函数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> vue3 中的生命周期函数, 需要在 setup 中调用</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> onUpdated<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updated!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'unmounted!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="/vue-press-blog-system/assets/img/image-20220213225003030.ca86d4e7.png" alt="image-20220213225003030"></p> <h2 id="计算属性computed函数"><a href="#计算属性computed函数" class="header-anchor">#</a> 计算属性computed函数</h2> <p>computed函数调用时, 要接收一个处理函数, 处理函数中, 需要返回计算属性的值</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我今年的年纪 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model.number</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我明年的年龄 {{ nextAge }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我后年的年龄 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model.numbe</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nextAge2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">// 不带set的计算属性</span>
<span class="token keyword">const</span> nextAge <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> age<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 带set的计算属性</span>
<span class="token keyword">const</span> nextAge2 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> age<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token operator">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    age<span class="token punctuation">.</span>value <span class="token operator">=</span> val <span class="token operator">-</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>问题小结:  computed 函数提供计算属性, 有几种写法?</p> <ul><li>简单写法，不带set的计算</li> <li>复杂写法，带 set 的计算，传入对象</li></ul> <h2 id="侦听器watch函数"><a href="#侦听器watch函数" class="header-anchor">#</a> 侦听器watch函数</h2> <div class="language- extra-class"><pre><code>watch 侦听器, 接收三个参数
1. 参数1: 监视的数据源
2. 参数2: 回调函数
3. 参数3: 额外的配置
</code></pre></div><div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 监听单个ref</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>money<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 监听多个ref</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>money<span class="token punctuation">,</span> count<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 监听ref复杂数据</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  user<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'user变化了'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// 深度监听，当ref的值是一个复杂数据类型，需要深度监听</span>
    <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 监听对象的某个属性的变化</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> user<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h2 id="组件通讯-父传子"><a href="#组件通讯-父传子" class="header-anchor">#</a> 组件通讯-父传子</h2> <blockquote><p>目标：能够实现组件通讯中的父传子组件通讯</p></blockquote> <p>步骤：</p> <ol><li>父组件提供数据</li> <li>父组件将数据传递给子组件</li> <li>子组件通过 <code>defineProps</code> 进行接收</li> <li>子组件渲染父组件传递的数据</li></ol> <p><strong>核心代码：</strong></p> <p>父组件  <code>src/App.vue</code></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 在setup语法中，只需要导入子组件，就可以渲染，不需要components注册</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./components/Son.vue'</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'五菱宏光MINI'</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>根组件-{{ money }} --- {{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:money</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:car</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>子组件 <code>src/components/Son.vue</code></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">// defineProps: 接收父组件传递的数据</span>
<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> number
  <span class="token literal-property property">car</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> defineProps<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> myMoney <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>money <span class="token operator">+</span> <span class="token number">100</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>子组件---{{ money }} --- {{ car }} ---{{ myMoney }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>注意：</p> <ul><li><p>如果使用 <code>defineProps</code> 接收数据，这个数据只能在模板中渲染</p></li> <li><p>如果想要在 <code>&lt;script&gt;</code> 中也访问 <code>props</code> 属性，应该接收返回值。</p></li></ul> <h2 id="组件通讯-子传父"><a href="#组件通讯-子传父" class="header-anchor">#</a> 组件通讯-子传父</h2> <blockquote><p>目标：能够实现组件通讯中的子传父</p></blockquote> <p><strong>步骤：</strong></p> <ol><li>子组件通过 <code>defineEmits</code> 获取emit对象（因为没有this)</li> <li>子组件通过emit触发事件，并且传递数据</li> <li>父组件提供方法</li> <li>父组件通过自定义事件的方式给子组件注册事件</li></ol> <p><strong>核心代码</strong></p> <p>子组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// defineProps: 接收父组件传递的数据</span>
<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> Number
  <span class="token literal-property property">car</span><span class="token operator">:</span> String
<span class="token punctuation">}</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> defineProps<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'xiu'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">xiu</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'xiu'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>子组件---{{ money }} --- {{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xiu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>刷火箭<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>父组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 在setup语法中，只需要导入子组件，就可以渲染，不需要components注册</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./components/Son.vue'</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'五菱宏光MINI'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">handlerXiu</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">val</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  money<span class="token punctuation">.</span>value <span class="token operator">+=</span> val
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>根组件-{{ money }} --- {{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:money</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:car</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@xiu</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlerXiu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="组件通讯-依赖注入-provide-和-inject"><a href="#组件通讯-依赖注入-provide-和-inject" class="header-anchor">#</a> 组件通讯-依赖注入 - provide 和 inject</h2> <p>依赖注入, 可以非常方便的实现 跨层级的 组件通信</p> <p><img src="/vue-press-blog-system/assets/img/image-20220213110153307.eae3f88a.png" alt="image-20220213110153307"></p> <p>父组件利用 provide 提供数据</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./components/Son.vue'</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'小黄车'</span><span class="token punctuation">)</span>

<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">,</span> car<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>根组件-{{ money }} --- {{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>子组件 (子孙后代, 都可以拿到这个数据)</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject<span class="token punctuation">,</span> Ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> inject<span class="token operator">&lt;</span>Ref<span class="token operator">&lt;</span>number<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> inject<span class="token operator">&lt;</span>Ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeMoney</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">m</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    money<span class="token punctuation">.</span>value <span class="token operator">=</span> money<span class="token punctuation">.</span>value <span class="token operator">-</span> m
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>Sun组件--{{ money }} --- {{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMoney(10)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>如果希望子传父,  可以 provide 传递一个方法</p> <p><code>父组件</code></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">'./components/Son.vue'</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'小黄车'</span><span class="token punctuation">)</span>

<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">,</span> car<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeMoney</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">m</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    money<span class="token punctuation">.</span>value <span class="token operator">=</span> money<span class="token punctuation">.</span>value <span class="token operator">-</span> m
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'changeMoney'</span><span class="token punctuation">,</span> changeMoney<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>根组件-{{ money }} --- {{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><code>子组件</code></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject<span class="token punctuation">,</span> Ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> inject<span class="token operator">&lt;</span>Ref<span class="token operator">&lt;</span>number<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> inject<span class="token operator">&lt;</span>Ref<span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> changeMoney <span class="token operator">=</span> inject<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">m</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'changeMoney'</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>Sun组件--{{ money }} --- {{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMoney &amp;&amp; changeMoney(10)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="模板中-ref-的使用"><a href="#模板中-ref-的使用" class="header-anchor">#</a> 模板中 ref 的使用</h2> <p>联想之前的 ref 和 $refs， 获取模板的元素（dom元素，组件）</p> <p>1 创建 ref =&gt;  <code>const hRef = ref(null)</code></p> <p>2 模板中建立关联  =&gt;  <code>&lt;h1 ref=&quot;hRef&quot;&gt;钩子函数-----123&lt;/h1&gt;</code></p> <p>3 使用 =&gt; <code>hRef.value</code></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> hRef <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLHeadingElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">clickFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>hRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    hRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'我不是标题'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickFn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>操作DOM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>ref操作组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">'./components/Form.vue'</span>

<span class="token comment">// 1. 提供一个ref</span>
<span class="token keyword">const</span> h1Ref <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLHeadElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> formRef <span class="token operator">=</span> ref<span class="token operator">&lt;</span>InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Form<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 3. 通过ref访问DOM对象</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h1Ref<span class="token punctuation">.</span>value<span class="token operator">?.</span>innerHTML<span class="token punctuation">)</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formRef<span class="token punctuation">.</span>value<span class="token operator">?.</span>count<span class="token punctuation">)</span>
  formRef<span class="token punctuation">.</span>value<span class="token operator">?.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 2. 关联DOM --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>h1Ref<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>根组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>需要配合 defineExpose</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">validate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'表单组件内部的校验方法'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 暴露属性给外部组件使用</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count<span class="token punctuation">,</span>
  validate<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>我是Form组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="vue3-中废弃了过滤器"><a href="#vue3-中废弃了过滤器" class="header-anchor">#</a> vue3 中废弃了过滤器</h2> <blockquote><p>vue3 中不能使用过滤器，直接使用函数进行替代。</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">'moment'</span>
<span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">formatTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">time</span><span class="token operator">:</span> Date</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>当前时间:{{ formatTime(time) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="补充-torefs-函数"><a href="#补充-torefs-函数" class="header-anchor">#</a> 补充 - toRefs 函数</h2> <p><strong>使用场景: 如果对一个响应数据, 进行解构 或者 展开, 会丢失他的响应式特性!</strong></p> <p>原因: vue3 底层是对 对象 进行监听劫持</p> <p>作用: 对一个响应式对象的所有内部属性, 都做响应式处理</p> <ol><li>reactive/ref的响应式功能是赋值给对象的, 如果给对象解构或者展开, 会让数据丢失响应式的能力</li> <li><strong>使用 toRefs 可以保证该对象展开的每个属性都是响应式的</strong></li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>改值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>问题小结:  toRefs 函数的作用是什么 ?</p> <p>作用: 对一个  <strong>响应式对象</strong>  的所有内部属性, 都做响应式处理,    保证<strong>展开或者解构出的数据也是响应式的</strong></p> <h1 id="案例-todos"><a href="#案例-todos" class="header-anchor">#</a> 案例 - todos</h1> <h2 id="基本架子搭建"><a href="#基本架子搭建" class="header-anchor">#</a> 基本架子搭建</h2> <ul><li>素材中已经提供好了</li> <li>要求：通过 Vue3 + TypeScript + script setup 组合式API 实现</li></ul> <h2 id="列表展示功能"><a href="#列表展示功能" class="header-anchor">#</a> 列表展示功能</h2> <p>（1）在App.vue中提供数据</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> TodoHeader <span class="token keyword">from</span> <span class="token string">'./components/TodoHeader.vue'</span>
<span class="token keyword">import</span> TodoMain <span class="token keyword">from</span> <span class="token string">'./components/TodoMain.vue'</span>
<span class="token keyword">import</span> TodoFooter <span class="token keyword">from</span> <span class="token string">'./components/TodoFooter.vue'</span>

<span class="token comment">// 提供数据</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'吃饭'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'睡觉'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'打豆豆'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>(2)传递给Main组件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>TodoMain <span class="token operator">:</span>list<span class="token operator">=</span><span class="token string">&quot;list&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoMain<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（3）子组件接收</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>（4）子组件渲染</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ completed: item.done }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.done<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>edit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Create a TodoMVC template<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="修改任务状态功能"><a href="#修改任务状态功能" class="header-anchor">#</a> 修改任务状态功能</h2> <p>（1）子组件注册事件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.done<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeFn(item.id)<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>(2)子传父</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'changeDone'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'changeDone'</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>(3)父组件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">changeDone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> todo <span class="token operator">=</span> list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
  todo<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>done
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>TodoMain <span class="token operator">:</span>list<span class="token operator">=</span><span class="token string">&quot;list&quot;</span> @changeDone<span class="token operator">=</span><span class="token string">&quot;changeDone&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoMain<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="删除功能"><a href="#删除功能" class="header-anchor">#</a> 删除功能</h2> <p>（1）子组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>const emit = defineEmits(['changeDone', 'delTodo'])

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emit(<span class="token punctuation">'</span>delTodo<span class="token punctuation">'</span>, item.id)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>(2)父组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>const delTodo = (id) =&gt; {
  list.value = list.value.filter((item) =&gt; item.id !== id)
}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TodoMain</span>
  <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@changeDone</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeDone<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@delTodo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>delTodo<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TodoMain</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="添加功能"><a href="#添加功能" class="header-anchor">#</a> 添加功能</h2> <p>(1)子组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> todoName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'addTodo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>todoName<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'addTodo'</span><span class="token punctuation">,</span> todoName<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    todoName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>todos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>new-todo<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>What needs to be done?<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">autofocus</span>
      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todoName<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@keydown.enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>(2)父组件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    name<span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token operator">&lt;</span>TodoHeader @addTodo<span class="token operator">=</span><span class="token string">&quot;addTodo&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoHeader<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="底部功能-计算属性"><a href="#底部功能-计算属性" class="header-anchor">#</a> 底部功能 (计算属性)</h2> <p>(1)子组件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> leftCount <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>item<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">.</span>length
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>footer <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;todo-count&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> leftCount <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span> item left
    <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;filters&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;selected&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;#/&quot;</span><span class="token operator">&gt;</span>All<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#/active&quot;</span><span class="token operator">&gt;</span>Active<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#/completed&quot;</span><span class="token operator">&gt;</span>Completed<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clear-completed&quot;</span><span class="token operator">&gt;</span>Clear completed<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="全选反选功能"><a href="#全选反选功能" class="header-anchor">#</a> 全选反选功能</h2> <p>(1)提供计算属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> isCheckAll <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>(2)注册事件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>input
  id<span class="token operator">=</span><span class="token string">&quot;toggle-all&quot;</span>
  <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;toggle-all&quot;</span>
  type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span>
  <span class="token operator">:</span>checked<span class="token operator">=</span><span class="token string">&quot;isCheckAll&quot;</span>
  @change<span class="token operator">=</span><span class="token string">&quot;emit('checkAll', !isCheckAll)&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>(3)父组件全选或者反选</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">checkAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>done <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>TodoMain
  <span class="token operator">:</span>list<span class="token operator">=</span><span class="token string">&quot;list&quot;</span>
  @changeDone<span class="token operator">=</span><span class="token string">&quot;changeDone&quot;</span>
  @delTodo<span class="token operator">=</span><span class="token string">&quot;delTodo&quot;</span>
  @checkAll<span class="token operator">=</span><span class="token string">&quot;checkAll&quot;</span>
<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoMain<span class="token operator">&gt;</span>	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="watch-监视存到本地"><a href="#watch-监视存到本地" class="header-anchor">#</a> watch 监视存到本地</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">watch</span><span class="token punctuation">(</span>
  list<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">3/15/2022, 12:28:01 AM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/vue-press-blog-system/pages/13698b/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">vueAll</div></a> <a href="/vue-press-blog-system/pages/a49f64/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">资源可视化</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vue-press-blog-system/pages/13698b/" class="prev">vueAll</a></span> <span class="next"><a href="/vue-press-blog-system/pages/a49f64/">资源可视化</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/vue-press-blog-system/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/vue-press-blog-system/pages/b23597/"><div>
            git
            <!----></div></a> <span class="date">04-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/vue-press-blog-system/pages/cf8a65/"><div>
            bimface应用
            <!----></div></a> <span class="date">04-18</span></dt></dl><dl><dd>03</dd> <dt><a href="/vue-press-blog-system/pages/393b20/"><div>
            设计模式笔记
            <!----></div></a> <span class="date">04-01</span></dt></dl> <dl><dd></dd> <dt><a href="/vue-press-blog-system/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/vue-press-blog-system/assets/js/app.c526b0a5.js" defer></script><script src="/vue-press-blog-system/assets/js/2.98bc5c3d.js" defer></script><script src="/vue-press-blog-system/assets/js/3.92175d34.js" defer></script>
  </body>
</html>
